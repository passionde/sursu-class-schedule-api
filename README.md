# Sursu Class Schedule API

Это API, предоставляющее расписание СурГУ. Проект создан на основе FastAPI и использует Docker для удобства развертывания.

## Начало работы

### Требования

- Установленные [Docker](https://docs.docker.com/get-docker/) и [Docker Compose](https://docs.docker.com/compose/install/).
- Файл `schedule.db`, содержащий расписание. Создайте его, используя этот [парсер](https://github.com/passionde/sursu-class-schedule-parser).

### Настройка безопасности и VK Mini Apps

Если вы хотите отключить авторизацию для конечных точек API, просто удалите параметр `SECRET_KEY` из файла [`.env`](.env).

Для интеграции API с VK Mini Apps, вам потребуется установить `SECRET_KEY`. Этот ключ используется для верификации запросов от VK Mini Apps.

#### Получение `SECRET_KEY`

1. Перейдите в [Панель разработчика VK](https://vk.com/dev) и войдите в свой аккаунт.
2. Если у вас еще нет приложения, создайте новое, выбрав тип "Mini Apps".
3. В меню слева перейдите в раздел "Настройки".
4. В разделе "Ключи доступа" найдите и скопируйте "Защищенный ключ". Это и есть ваш `SECRET_KEY`.

После получения ключа, добавьте его в файл [`.env`](.env) проекта:

```
SECRET_KEY=YOUR_SECRET_KEY
```

### Журналирование

При необходимости настройте логгирование, отредактировав файл [`log.ini`](log.ini).

## Запуск сервиса

Сборка:

```shell
docker-compose build
```

Запуск:

```shell
docker-compose up
```

Остановка и удаление:

```shell
docker-compose down
```

## Документация к API

После того как API будет запущено, вы можете просмотреть интерактивную документацию по следующему адресу: [http://localhost:8080/docs](http://localhost:8080/docs).
